AWSTemplateFormatVersion: 2010-09-09
Transform:
  - AWS::Serverless-2016-10-31
Metadata:
  expand:
    plugins:
      - ../../../src/plugins/run-script-hooks.js
    config:
      script:
        hooks:
          pre:build:
            - command: echo
              args:
                - value: pre:build
                  cloudFormation:
                    self: true
                    outputKey: prebuild
                  file:
                    location: ./script-hooks-file-resolver.mjs
                    exportName: test
          post:build:
            - command: echo
              args:
                - value: post:build
                  cloudFormation:
                    self: true
                    outputKey: postbuild
                  file:
                    location: ./script-hooks-file-resolver.mjs
                    exportName: test
          pre:package:
            - command: echo
              args:
                - value: pre:package
                  cloudFormation:
                    self: true
                    outputKey: prepackage
                  file:
                    location: ./script-hooks-file-resolver.mjs
                    exportName: test
          post:package:
            - command: echo
              args:
                - value: post:package
                  cloudFormation:
                    self: true
                    outputKey: postpackage
                  file:
                    location: ./script-hooks-file-resolver.mjs
                    exportName: test
          pre:delete:
            - command: echo
              args:
                - value: pre:delete
                  cloudFormation:
                    self: true
                    outputKey: predelete
                  file:
                    location: ./script-hooks-file-resolver.mjs
                    exportName: test
          post:delete:
            - command: echo
              args:
                - value: post:delete
                  cloudFormation:
                    self: true
                    outputKey: postdelete
                  file:
                    location: ./script-hooks-file-resolver.mjs
                    exportName: test
          pre:deploy:
            - command: echo
              args:
                - value: pre:deploy
                  cloudFormation:
                    self: true
                    outputKey: predeploy
                  file:
                    location: ./script-hooks-file-resolver.mjs
                    exportName: test
          post:deploy:
            - command: echo
              args:
                - value: post:deploy
                  cloudFormation:
                    self: true
                    outputKey: postdeploy
                  file:
                    location: ./script-hooks-file-resolver.mjs
                    exportName: test
Resources:
  WaitConditionHandle:
    Type: AWS::CloudFormation::WaitConditionHandle
